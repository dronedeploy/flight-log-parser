{"version":3,"file":"flight-log-parser.js","sources":["../src/types.ts","../node_modules/safe-buffer/index.js","../node_modules/string_decoder/lib/string_decoder.js","../node_modules/csv-parse/lib/index.js","../src/field-types.ts","../src/parser.ts"],"sourcesContent":["export enum FlightLogHeader {\n  DateTime = 'Date/Time (UTC)',\n  ElapsedTime = 'Elapsed Time (sec)',\n  Info = 'Info',\n  DeviceLatitude = 'Device Latitude (Degrees)',\n  DeviceLongitude = 'Device Longitude (Degrees)',\n  DeviceLocationLastUpdated = 'Device Location Last Updated (ms)',\n  AircraftBatteryPowerPercent = 'Aircraft Battery Power (%)',\n  AircraftBatteryCharge = 'Aircraft Battery Charge (mAh)',\n  AircraftBatteryCurrent = 'Aircraft Battery Current (mA)',\n  AircraftBatteryVoltage = 'Aircraft Battery Voltage (mV)',\n  AircraftBatteryTemperature = 'Aircraft Battery Temperature (Fahrenheit)',\n  AircraftBatteryLastUpdated = 'Aircraft Battery Last Updated (ms)',\n  AircraftBatteryCell1Voltage = 'Aircraft Battery Cell 1 Voltage',\n  AircraftBatteryCell2Voltage = 'Aircraft Battery Cell 2 Voltage',\n  AircraftBatteryCell3Voltage = 'Aircraft Battery Cell 3 Voltage',\n  AircraftBatteryCell4Voltage = 'Aircraft Battery Cell 4 Voltage',\n  AircraftBatteryCellVoltageLastUpdated = 'Aircraft Battery Cell Voltage Last Updated (ms)',\n  AircraftLatitude = 'Aircraft Latitude (Degrees)',\n  AircraftLongitude = 'Aircraft Longitude (Degrees)',\n  AircraftSpeed = 'Aircraft Speed (mph)',\n  AircraftBarometricAltitude = 'Aircraft Barometric Altitude (ft)',\n  AircraftHeading = 'Aircraft Heading (Degrees)',\n  AircraftVelocityX = 'Aircraft Vel - X (mph)',\n  AircraftVelocityY = 'Aircraft Vel - Y (mph)',\n  AircraftVelocityZ = 'Aircraft Vel - Z (mph)',\n  AircraftPitch = 'Aircraft Pitch (Degrees)',\n  AircraftRoll = 'Aircraft Roll (Degrees)',\n  AircraftSatellites = 'Aircraft Satellites',\n  AircraftMotorsOn = 'Aircraft Motors On',\n  AircraftFlying = 'Aircraft Flying',\n  AircraftFlightMode = 'Aircraft Flight Mode',\n  AircraftFlightModeValue = 'Aircraft Flight Mode Value',\n  AircraftIMUPreheating = 'Aircraft IMU Preheating',\n  AircraftUltrasonicOn = 'Aircraft Ultrasonic On',\n  AircraftUltrasonicAltitude = 'Aircraft Ultrasonic Altitude (ft)',\n  AircraftVisionOn = 'Aircraft Vision On',\n  AircraftGPSSignal = 'Aircraft GPS Signal',\n  AircraftGPSSignalValue = 'Aircraft GPS Signal Value',\n  AircraftNoFly = 'Aircraft No-fly',\n  AircraftNoFlyValue = 'Aircraft No-fly Value',\n  AircraftNoFlyLatitude = 'Aircraft No-fly Latitude (Degrees)',\n  AircraftNoFlyLongitude = 'Aircraft No-fly Longitude (Degrees)',\n  AircraftNoFlyRadius = 'Aircraft No-fly Radius (ft)',\n  HomeLatitude = 'Home Latitude (Degrees)',\n  HomeLongitude = 'Home Longitude (Degrees)',\n  AircraftSmartGoHomeFlightTimeRemaining = 'Aircraft Smart Go-home Flight Time Remaining (sec)',\n  AircraftSmartGoHomeFlightReturnTime = 'Aircraft Smart Go-home Flight Return Time (sec)',\n  AircraftSmartGoHomeLandingTime = 'Aircraft Smart Go-home Landing Time (sec)',\n  AircraftSmartGoHomeReturnPower = 'Aircraft Smart Go-home Return Power (%)',\n  AircraftSmartGoHomeLandingPower = 'Aircraft Smart Go-home Landing Power (%)',\n  AircraftSmartGoHomeRadius = 'Aircraft Smart Go-home Radius (ft)',\n  AircraftSmartGoHomeCountdown = 'Aircraft Smart Go-home Countdown (sec)',\n  AircraftSmartGoHomeRequesting = 'Aircraft Smart Go-home Requesting',\n  AircraftSystemStateLastUpdated = 'Aircraft System State Last Updated (ms)',\n  GimbalPitch = 'Gimbal Pitch (Degrees)',\n  GimbalRoll = 'Gimbal Roll (Degrees)',\n  GimbalYaw = 'Gimbal Yaw (Degrees)',\n  GimbalMode = 'Gimbal Mode',\n  GimbalModeValue = 'Gimbal Mode Value',\n  GimbalPitchAtStop = 'Gimbal Pitch at Stop',\n  GimbalRollAtStop = 'Gimbal Roll at Stop',\n  GimbalYawAtStop = 'Gimbal Yaw at Stop',\n  GimbalStatusLastUpdated = 'Gimbal Status Last Updated (ms)',\n  LandingGearIsMovable = 'Landing Gear is Movable',\n  LandingGearStatus = 'Landing Gear Status',\n  LandingGearStatusValue = 'Landing Gear Status Value',\n  LandingGearMode = 'Landing Gear Mode',\n  LandingGearModeValue = 'Landing Gear Mode Value',\n  LandingGearLastUpdated = 'Landing Gear Last Updated (ms)',\n  RCState = 'RC State',\n  RCStateValue = 'RC State Value',\n  RCLeftHorizontal = 'RC Left Horizontal',\n  RCLeftVertical = 'RC Left Vertical',\n  RCRightHorizontal = 'RC Right Horizontal',\n  RCRightVertical = 'RC Right Vertical',\n  RCLeftWheel = 'RC Left Wheel',\n  RCRightWheel = 'RC Right Wheel',\n  RCLandingGear = 'RC Landing Gear',\n  RCLandingGearValue = 'RC Landing Gear Value',\n  RCGoHome = 'RC Go Home',\n  RCRecord  = 'RC Record ',\n  RCShutter = 'RC Shutter',\n  RCPlayback = 'RC Playback',\n  RCPause = 'RC Pause',\n  RCCustom1 = 'RC Custom 1',\n  RCCustom2 = 'RC Custom 2',\n  RCStateLastUpdated = 'RC State Last Updated (ms)',\n  RCBatteryPercentRemaining = 'RC Battery (%)',\n  RCBatteryStateLastUpdated = 'RC Battery State Last Updated (ms)',\n  RCSattelites = 'RC Sattelites',\n  RCHorizontalAccuaracy = 'RC Horizontal Accuaracy (ft)',\n  RCLatitude = 'RC Latitude (Degrees)',\n  RCLongitude = 'RC Longitude (Degrees)',\n  RCGSPDataIsValid = 'RC GSP Data is Valid',\n  RCGPSStateLastUpdated = 'RC GPS State Last Updated (ms)',\n  RCSignal1 = 'RC Signal 1',\n  RCSignal2 = 'RC Signal 2',\n  RCSignalLastUpdated = 'RC Signal Last Updated (ms)',\n  LBSignal1 = 'LB Signal 1',\n  LBSignal2 = 'LB Signal 2',\n  LBSignalLastUpdated = 'LB Signal Last Updated (ms)',\n  AircraftCameraMode = 'Aircraft Camera Mode',\n  AircraftCameraModeValue = 'Aircraft Camera Mode Value',\n  AircraftCameraOverheated = 'Aircraft Camera Overheated',\n  AircraftCameraSensorError = 'Aircraft Camera Sensor Error',\n  AircraftCameraRecording = 'Aircraft Camera Recording',\n  AircraftCameraRawCapture = 'Aircraft Camera Raw Capture',\n  AircraftCameraIntervalCapture = 'Aircraft Camera Interval Capture',\n  AircraftCameraBurstCapture = 'Aircraft Camera Burst Capture',\n  AircraftCameraSingleCapture = 'Aircraft Camera Single Capture',\n  AircraftCameraStoringPhoto = 'Aircraft Camera Storing Photo',\n  AircraftCameraStateLastUpdated = 'Aircraft Camera State Last Updated (ms)',\n  AircraftCameraSDCardExists = 'Aircraft Camera SD Card Exists',\n  AircraftCameraSDCardRemainingPercent = 'Aircraft Camera SD Card Remaining (%)',\n  AircraftCameraSDCardStateLastUpdated = 'Aircraft Camera SD Card State Last Updated (ms)',\n  AircraftCameraChangeableLensSupported = 'Aircraft Camera Changeable Lens Supported',\n  AircraftCameraLensInstalled = 'Aircraft Camera Lens Installed',\n  AircraftCameraLensType = 'Aircraft Camera Lens Type',\n  AircraftCameraLensAFEnabled = 'Aircraft Camera Lens AF Enabled',\n  AircraftCameraLensFocusMode = 'Aircraft Camera Lens Focus Mode',\n  AircraftCameraLensFocusModeValue = 'Aircraft Camera Lens Focus Mode Value',\n  AircraftCameraLensFocusStatus = 'Aircraft Camera Lens Focus Status',\n  AircraftCameraLensFocusStatusValue = 'Aircraft Camera Lens Focus Status Value',\n  AircraftCameraLensMFAssistant = 'Aircraft Camera Lens MF Assistant',\n  AircraftCameraLensAFAssistant = 'Aircraft Camera Lens AF Assistant',\n  AircraftCameraLensAssistantWorking = 'Aircraft Camera Lens Assistant Working',\n  AircraftCameraLensStateLastUpdated = 'Aircraft Camera Lens State Last Updated (ms)',\n  DeviceToAircraftDistance = 'Device > Aircraft Distance - XY (ft)',\n}\n\nexport type FlightLogRow = {\n  [prop in FlightLogHeader]: any; // because csv\n};\n\nexport type FlightLogMetaData = {\n  appVersion: string;\n  session: {\n    id: string;\n    start: Date;\n    end: Date,\n    elapsed: number;\n  };\n  device: {\n    model: string;\n    os: string;\n  };\n  aircraft: {\n    model: string;\n    name: string;\n    firmware: string;\n  };\n  battery: {\n    chargeVolume: number;\n    remainingLifePercent: number;\n    discharges: number;\n    cells: number;\n    firmware: string;\n  };\n  flightController: {\n    serialNumber: string;\n    firmware: string;\n  };\n  gimbal: {\n    firmware: string;\n  };\n  remoteController: {\n    serialNumber: string;\n    firmware: string;\n  };\n  camera: {\n    serialNumber: string;\n  };\n};\n\nexport type FlightLog = {\n  metaData: FlightLogMetaData;\n  rows: FlightLogRow[];\n}\n\n// based off of types in ios/android SDK FlightMode enums\nexport const FLIGHT_MODE_MAPPING = {\n  0: 'Manual',\n  1: 'Attitude',\n  2: 'Attitude Course Lock',\n  3: 'Attitude Hover',\n  4: 'Hover',\n  5: 'GPS Blake',\n  6: 'GPS Attitude',\n  7: 'GPS Course Lock',\n  8: 'GPS Home',\n  9: 'GPS Hotpoint',\n  10: 'Assisted Takeoff',\n  11: 'Auto Takeoff',\n  12: 'Auto Landing',\n  13: 'Attitude Landing',\n  14: 'GPS Waypoint',\n  15: 'Go Home',\n  16: 'Click Go',\n  17: 'Joystick',\n  18: 'Attitude Limited',\n  19: 'Cinematic',\n  23: 'Attitude Limited',\n  24: 'Draw',\n  25: 'GPS Follow Me',\n  26: 'ActiveTrack',\n  27: 'TapFly',\n  28: 'Pano',\n  29: 'Farming',\n  30: 'FPV',\n  31: 'GPS Sport',\n  32: 'GPS Novice',\n  33: 'Confirm Landing',\n  35: 'Terrain Follow',\n  36: 'Palm Control',\n  37: 'Quick Shot',\n  38: 'Tripod',\n  39: 'ActiveTrack Spotlight',\n  41: 'Motors Just Started',\n  43: 'GPS Gentle',\n  255: 'Unknown',\n};\n\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Generated by CoffeeScript 2.2.4\n// # CSV Parser\n\n// This module provides a CSV parser tested and used against large datasets. Over\n// the year, it has been enhance and is now full of useful options.\n\n// Please look at the [README], the [project website][site] the [samples] and the\n// [tests] for additional information.\nvar Parser, StringDecoder, isObjLiteral, stream, util;\n\nstream = require('stream');\n\nutil = require('util');\n\nStringDecoder = require('string_decoder').StringDecoder;\n\n// ## Usage\n\n// Callback approach, for ease of use:   \n\n// `parse(data, [options], callback)`     \n\n// [Node.js Stream API][stream], for maximum of power:   \n\n// `parse([options], [callback])`   \nmodule.exports = function() {\n  var callback, called, chunks, data, err, options, parser;\n  if (arguments.length === 3) {\n    data = arguments[0];\n    options = arguments[1];\n    callback = arguments[2];\n    if (typeof callback !== 'function') {\n      throw Error(`Invalid callback argument: ${JSON.stringify(callback)}`);\n    }\n    if (!(typeof data === 'string' || Buffer.isBuffer(arguments[0]))) {\n      return callback(Error(`Invalid data argument: ${JSON.stringify(data)}`));\n    }\n  } else if (arguments.length === 2) {\n    // 1st arg is data:string or options:object\n    if (typeof arguments[0] === 'string' || Buffer.isBuffer(arguments[0])) {\n      data = arguments[0];\n    } else if (isObjLiteral(arguments[0])) {\n      options = arguments[0];\n    } else {\n      err = `Invalid first argument: ${JSON.stringify(arguments[0])}`;\n    }\n    // 2nd arg is options:object or callback:function\n    if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    } else if (isObjLiteral(arguments[1])) {\n      if (options) {\n        err = 'Invalid arguments: got options twice as first and second arguments';\n      } else {\n        options = arguments[1];\n      }\n    } else {\n      err = `Invalid first argument: ${JSON.stringify(arguments[1])}`;\n    }\n    if (err) {\n      if (!callback) {\n        throw Error(err);\n      } else {\n        return callback(Error(err));\n      }\n    }\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      callback = arguments[0];\n    } else {\n      options = arguments[0];\n    }\n  }\n  if (options == null) {\n    options = {};\n  }\n  parser = new Parser(options);\n  if (data != null) {\n    process.nextTick(function() {\n      parser.write(data);\n      return parser.end();\n    });\n  }\n  if (callback) {\n    called = false;\n    chunks = options.objname ? {} : [];\n    parser.on('readable', function() {\n      var chunk, results;\n      results = [];\n      while (chunk = parser.read()) {\n        if (options.objname) {\n          results.push(chunks[chunk[0]] = chunk[1]);\n        } else {\n          results.push(chunks.push(chunk));\n        }\n      }\n      return results;\n    });\n    parser.on('error', function(err) {\n      called = true;\n      return callback(err);\n    });\n    parser.on('end', function() {\n      if (!called) {\n        return callback(null, chunks);\n      }\n    });\n  }\n  return parser;\n};\n\n// ## `Parser([options])`\n\n// Options are documented [here](http://csv.adaltas.com/parse/).\nParser = function(options = {}) {\n  var base, base1, base10, base11, base12, base13, base14, base15, base16, base17, base2, base3, base4, base5, base6, base7, base8, base9, k, v;\n  // @options = options\n  this.options = {};\n  for (k in options) {\n    v = options[k];\n    this.options[k] = v;\n  }\n  this.options.objectMode = true;\n  stream.Transform.call(this, this.options);\n  if ((base = this.options).rowDelimiter == null) {\n    base.rowDelimiter = null;\n  }\n  if (typeof this.options.rowDelimiter === 'string') {\n    this.options.rowDelimiter = [this.options.rowDelimiter];\n  }\n  if ((base1 = this.options).delimiter == null) {\n    base1.delimiter = ',';\n  }\n  if (this.options.quote !== void 0 && !this.options.quote) {\n    this.options.quote = '';\n  }\n  if ((base2 = this.options).quote == null) {\n    base2.quote = '\"';\n  }\n  if ((base3 = this.options).escape == null) {\n    base3.escape = '\"';\n  }\n  if ((base4 = this.options).columns == null) {\n    base4.columns = null;\n  }\n  if ((base5 = this.options).comment == null) {\n    base5.comment = '';\n  }\n  if ((base6 = this.options).objname == null) {\n    base6.objname = false;\n  }\n  if ((base7 = this.options).trim == null) {\n    base7.trim = false;\n  }\n  if ((base8 = this.options).ltrim == null) {\n    base8.ltrim = false;\n  }\n  if ((base9 = this.options).rtrim == null) {\n    base9.rtrim = false;\n  }\n  if (this.options.auto_parse != null) {\n    this.options.cast = this.options.auto_parse;\n  }\n  if ((base10 = this.options).cast == null) {\n    base10.cast = false;\n  }\n  if (this.options.auto_parse_date != null) {\n    this.options.cast_date = this.options.auto_parse_date;\n  }\n  if ((base11 = this.options).cast_date == null) {\n    base11.cast_date = false;\n  }\n  if (this.options.cast_date === true) {\n    this.options.cast_date = function(value) {\n      var m;\n      m = Date.parse(value);\n      if (!isNaN(m)) {\n        value = new Date(m);\n      }\n      return value;\n    };\n  }\n  if ((base12 = this.options).relax == null) {\n    base12.relax = false;\n  }\n  if ((base13 = this.options).relax_column_count == null) {\n    base13.relax_column_count = false;\n  }\n  if ((base14 = this.options).skip_empty_lines == null) {\n    base14.skip_empty_lines = false;\n  }\n  if ((base15 = this.options).max_limit_on_data_read == null) {\n    base15.max_limit_on_data_read = 128000;\n  }\n  if ((base16 = this.options).skip_lines_with_empty_values == null) {\n    base16.skip_lines_with_empty_values = false;\n  }\n  if ((base17 = this.options).skip_lines_with_error == null) {\n    base17.skip_lines_with_error = false;\n  }\n  // Counters\n  // lines = count + skipped_line_count + empty_line_count\n  this.lines = 0; // Number of lines encountered in the source dataset\n  this.count = 0; // Number of records being processed\n  this.skipped_line_count = 0; // Number of records skipped due to errors\n  this.empty_line_count = 0; // Number of empty lines\n  // Constants\n  this.is_int = /^(\\-|\\+)?([1-9]+[0-9]*)$/;\n  // @is_float = /^(\\-|\\+)?([0-9]+(\\.[0-9]+)([eE][0-9]+)?|Infinity)$/\n  // @is_float = /^(\\-|\\+)?((([0-9])|([1-9]+[0-9]*))(\\.[0-9]+)([eE][0-9]+)?|Infinity)$/\n  this.is_float = function(value) {\n    return (value - parseFloat(value) + 1) >= 0; // Borrowed from jquery\n  };\n  // Internal state\n  this._ = {\n    decoder: new StringDecoder(),\n    quoting: false,\n    commenting: false,\n    field: null,\n    nextChar: null,\n    closingQuote: 0,\n    line: [],\n    chunks: [],\n    rawBuf: '',\n    buf: '',\n    rowDelimiterLength: this.options.rowDelimiter ? Math.max(...this.options.rowDelimiter.map(function(v) {\n      return v.length;\n    })) : void 0,\n    lineHasError: false\n  };\n  return this;\n};\n\n// ## Internal API\n\n// The Parser implement a [`stream.Transform` class][transform].\n\n// ### Events\n\n// The library extends Node [EventEmitter][event] class and emit all\n// the events of the Writable and Readable [Stream API][stream]. \nutil.inherits(Parser, stream.Transform);\n\n// For extra flexibility, you can get access to the original Parser\n// class: `require('csv-parse').Parser`.\nmodule.exports.Parser = Parser;\n\n// ### `_transform(chunk, encoding, callback)`\n\n// *   `chunk` Buffer | String   \n//     The chunk to be transformed. Will always be a buffer unless the decodeStrings option was set to false.\n// *   `encoding` String   \n//     If the chunk is a string, then this is the encoding type. (Ignore if decodeStrings chunk is a buffer.)\n// *   `callback` Function   \n//     Call this function (optionally with an error argument) when you are done processing the supplied chunk.\n\n// Implementation of the [`stream.Transform` API][transform]\nParser.prototype._transform = function(chunk, encoding, callback) {\n  return setImmediate(() => {\n    var err;\n    if (chunk instanceof Buffer) {\n      chunk = this._.decoder.write(chunk);\n    }\n    err = this.__write(chunk, false);\n    if (err) {\n      return this.emit('error', err);\n    }\n    return callback();\n  });\n};\n\nParser.prototype._flush = function(callback) {\n  return callback(this.__flush());\n};\n\nParser.prototype.__flush = function() {\n  var err;\n  err = this.__write(this._.decoder.end(), true);\n  if (err) {\n    return err;\n  }\n  if (this._.quoting) {\n    err = this.error(`Quoted field not terminated at line ${this.lines + 1}`);\n    return err;\n  }\n  if (this._.line.length > 0) {\n    return this.__push(this._.line);\n  }\n};\n\nParser.prototype.__push = function(line) {\n  var call_column_udf, columns, err, field, i, j, len, lineAsColumns, record;\n  if (this.options.skip_lines_with_empty_values && line.join('').trim() === '') {\n    return;\n  }\n  record = null;\n  if (this.options.columns === true) {\n    this.options.columns = line;\n    return;\n  } else if (typeof this.options.columns === 'function') {\n    call_column_udf = function(fn, line) {\n      var columns, err;\n      try {\n        columns = fn.call(null, line);\n        return [null, columns];\n      } catch (error) {\n        err = error;\n        return [err];\n      }\n    };\n    [err, columns] = call_column_udf(this.options.columns, line);\n    if (err) {\n      return err;\n    }\n    this.options.columns = columns;\n    return;\n  }\n  if (!this._.line_length && line.length > 0) {\n    this._.line_length = this.options.columns ? this.options.columns.length : line.length;\n  }\n  // Dont check column count on empty lines\n  if (line.length === 1 && line[0] === '') {\n    this.empty_line_count++;\n  } else if (line.length !== this._.line_length) {\n    // Dont check column count with relax_column_count\n    if (this.options.relax_column_count) {\n      this.count++;\n      this.skipped_line_count++;\n    } else if (this.options.columns != null) {\n      // Suggest: Inconsistent header and column numbers: header is 1 and number of columns is 1 on line 1\n      err = this.error(`Number of columns on line ${this.lines} does not match header`);\n      return err;\n    } else {\n      err = this.error(`Number of columns is inconsistent on line ${this.lines}`);\n      return err;\n    }\n  } else {\n    this.count++;\n  }\n  if (this.options.columns != null) {\n    lineAsColumns = {};\n    for (i = j = 0, len = line.length; j < len; i = ++j) {\n      field = line[i];\n      if (this.options.columns[i] === false) {\n        continue;\n      }\n      lineAsColumns[this.options.columns[i]] = field;\n    }\n    if (this.options.objname) {\n      record = [lineAsColumns[this.options.objname], lineAsColumns];\n    } else {\n      record = lineAsColumns;\n    }\n  } else {\n    record = line;\n  }\n  if (this.count < this.options.from) {\n    return;\n  }\n  if (this.count > this.options.to) {\n    return;\n  }\n  if (this.options.raw) {\n    this.push({\n      raw: this._.rawBuf,\n      row: record\n    });\n    this._.rawBuf = '';\n  } else {\n    this.push(record);\n  }\n  if (this.listenerCount('record')) {\n    this.emit('record', record);\n  }\n  return null;\n};\n\nParser.prototype.__write = function(chars, end) {\n  var areNextCharsDelimiter, areNextCharsRowDelimiters, cast, char, err, escapeIsQuote, i, isDelimiter, isEscape, isNextCharAComment, isNextCharTrimable, isQuote, isRowDelimiter, isRowDelimiterLength, is_float, is_int, l, ltrim, nextCharPos, ref, ref1, ref2, ref3, ref4, ref5, ref6, remainingBuffer, rowDelimiter, rtrim, wasCommenting;\n  is_int = (value) => {\n    if (typeof this.is_int === 'function') {\n      return this.is_int(value);\n    } else {\n      return this.is_int.test(value);\n    }\n  };\n  is_float = (value) => {\n    if (typeof this.is_float === 'function') {\n      return this.is_float(value);\n    } else {\n      return this.is_float.test(value);\n    }\n  };\n  cast = (value, context = {}) => {\n    if (!this.options.cast) {\n      return value;\n    }\n    if (context.quoting == null) {\n      context.quoting = !!this._.closingQuote;\n    }\n    if (context.lines == null) {\n      context.lines = this.lines;\n    }\n    if (context.count == null) {\n      context.count = this.count;\n    }\n    if (context.index == null) {\n      context.index = this._.line.length;\n    }\n    // context.header ?= if @options.column and @lines is 1 and @count is 0 then true else false\n    if (context.header == null) {\n      context.header = this.options.columns === true;\n    }\n    if (context.column == null) {\n      context.column = Array.isArray(this.options.columns) ? this.options.columns[context.index] : context.index;\n    }\n    if (typeof this.options.cast === 'function') {\n      return this.options.cast(value, context);\n    }\n    if (is_int(value)) {\n      value = parseInt(value);\n    } else if (is_float(value)) {\n      value = parseFloat(value);\n    } else if (this.options.cast_date) {\n      value = this.options.cast_date(value, context);\n    }\n    return value;\n  };\n  ltrim = this.options.trim || this.options.ltrim;\n  rtrim = this.options.trim || this.options.rtrim;\n  chars = this._.buf + chars;\n  l = chars.length;\n  i = 0;\n  if (this.lines === 0 && 0xFEFF === chars.charCodeAt(0)) {\n    // Strip BOM header\n    i++;\n  }\n  while (i < l) {\n    // Ensure we get enough space to look ahead\n    if (!end) {\n      remainingBuffer = chars.substr(i, l - i);\n      // (i+1000 >= l) or\n      // Skip if the remaining buffer can be comment\n      // Skip if the remaining buffer can be row delimiter\n      if ((!this.options.rowDelimiter && i + 3 > l) || (!this._.commenting && l - i < this.options.comment.length && this.options.comment.substr(0, l - i) === remainingBuffer) || (this.options.rowDelimiter && l - i < this._.rowDelimiterLength && this.options.rowDelimiter.some(function(rd) {\n        return rd.substr(0, l - i) === remainingBuffer;\n      // Skip if the remaining buffer can be row delimiter following the closing quote\n      })) || (this.options.rowDelimiter && this._.quoting && l - i < (this.options.quote.length + this._.rowDelimiterLength) && this.options.rowDelimiter.some((rd) => {\n        return (this.options.quote + rd).substr(0, l - i) === remainingBuffer;\n      // Skip if the remaining buffer can be delimiter\n      // Skip if the remaining buffer can be escape sequence\n      })) || (l - i <= this.options.delimiter.length && this.options.delimiter.substr(0, l - i) === remainingBuffer) || (l - i <= this.options.escape.length && this.options.escape.substr(0, l - i) === remainingBuffer)) {\n        break;\n      }\n    }\n    char = this._.nextChar ? this._.nextChar : chars.charAt(i);\n    this._.nextChar = l > i + 1 ? chars.charAt(i + 1) : null;\n    if (this.options.raw) {\n      this._.rawBuf += char;\n    }\n    // Auto discovery of rowDelimiter, unix, mac and windows supported\n    if (this.options.rowDelimiter == null) {\n      nextCharPos = i;\n      rowDelimiter = null;\n      // First empty line\n      if (!this._.quoting && (char === '\\n' || char === '\\r')) {\n        rowDelimiter = char;\n        nextCharPos += 1;\n      } else if (this._.quoting && char === this.options.quote && ((ref = this._.nextChar) === '\\n' || ref === '\\r')) {\n        rowDelimiter = this._.nextChar;\n        nextCharPos += 2;\n      }\n      if (rowDelimiter) {\n        if (rowDelimiter === '\\r' && chars.charAt(nextCharPos) === '\\n') {\n          rowDelimiter += '\\n';\n        }\n        this.options.rowDelimiter = [rowDelimiter];\n        this._.rowDelimiterLength = rowDelimiter.length;\n      }\n    }\n    // Parse that damn char\n    // Note, shouldn't we have sth like chars.substr(i, @options.escape.length)\n    if (!this._.commenting && char === this.options.escape) {\n      // Make sure the escape is really here for escaping:\n      // If escape is same as quote, and escape is first char of a field \n      // and it's not quoted, then it is a quote\n      // Next char should be an escape or a quote\n      escapeIsQuote = this.options.escape === this.options.quote;\n      isEscape = this._.nextChar === this.options.escape;\n      isQuote = this._.nextChar === this.options.quote;\n      if (!(escapeIsQuote && !this._.field && !this._.quoting) && (isEscape || isQuote)) {\n        i++;\n        char = this._.nextChar;\n        this._.nextChar = chars.charAt(i + 1);\n        if (this._.field == null) {\n          this._.field = '';\n        }\n        this._.field += char;\n        // Since we're skipping the next one, better add it now if in raw mode.\n        if (this.options.raw) {\n          this._.rawBuf += char;\n        }\n        i++;\n        continue;\n      }\n    }\n    // Char match quote\n    if (!this._.commenting && char === this.options.quote) {\n      if (this._.acceptOnlyEmptyChars && (char !== ' ' && char !== '\\t')) {\n        return this.error('Only trimable characters are accepted after quotes');\n      }\n      if (this._.quoting) {\n        // Make sure a closing quote is followed by a delimiter\n        // If we have a next character and \n        // it isnt a rowDelimiter and \n        // it isnt an column delimiter and\n        // it isnt the begining of a comment\n        // Otherwise, if this is not \"relax\" mode, throw an error\n        isNextCharTrimable = rtrim && ((ref1 = this._.nextChar) === ' ' || ref1 === '\\t');\n        areNextCharsRowDelimiters = this.options.rowDelimiter && this.options.rowDelimiter.some(function(rd) {\n          return chars.substr(i + 1, rd.length) === rd;\n        });\n        areNextCharsDelimiter = chars.substr(i + 1, this.options.delimiter.length) === this.options.delimiter;\n        isNextCharAComment = this._.nextChar === this.options.comment;\n        if ((this._.nextChar != null) && !isNextCharTrimable && !areNextCharsRowDelimiters && !areNextCharsDelimiter && !isNextCharAComment) {\n          if (this.options.relax) {\n            this._.quoting = false;\n            if (this._.field) {\n              this._.field = `${this.options.quote}${this._.field}`;\n            }\n          } else {\n            if (err = this.error(`Invalid closing quote at line ${this.lines + 1}; found ${JSON.stringify(this._.nextChar)} instead of delimiter ${JSON.stringify(this.options.delimiter)}`)) {\n              return err;\n            }\n          }\n        } else if ((this._.nextChar != null) && isNextCharTrimable) {\n          i++;\n          this._.quoting = false;\n          this._.closingQuote = this.options.quote.length;\n          this._.acceptOnlyEmptyChars = true;\n          continue;\n        } else {\n          i++;\n          this._.quoting = false;\n          this._.closingQuote = this.options.quote.length;\n          if (end && i === l) {\n            this._.line.push(cast(this._.field || ''));\n            this._.field = null;\n          }\n          continue;\n        }\n      } else if (!this._.field) {\n        this._.quoting = true;\n        i++;\n        continue;\n      } else if ((this._.field != null) && !this.options.relax) {\n        if (err = this.error(`Invalid opening quote at line ${this.lines + 1}`)) {\n          return err;\n        }\n      }\n    }\n    // Otherwise, treat quote as a regular character\n    isRowDelimiter = this.options.rowDelimiter && this.options.rowDelimiter.some(function(rd) {\n      return chars.substr(i, rd.length) === rd;\n    });\n    if (isRowDelimiter || (end && i === l - 1)) {\n      this.lines++;\n    }\n    // Set the commenting flag\n    wasCommenting = false;\n    if (!this._.commenting && !this._.quoting && this.options.comment && chars.substr(i, this.options.comment.length) === this.options.comment) {\n      this._.commenting = true;\n    } else if (this._.commenting && isRowDelimiter) {\n      wasCommenting = true;\n      this._.commenting = false;\n    }\n    isDelimiter = chars.substr(i, this.options.delimiter.length) === this.options.delimiter;\n    if (this._.acceptOnlyEmptyChars) {\n      if (isDelimiter || isRowDelimiter) {\n        this._.acceptOnlyEmptyChars = false;\n      } else {\n        if (char === ' ' || char === '\\t') {\n          i++;\n          continue;\n        } else {\n          return this.error('Only trimable characters are accepted after quotes');\n        }\n      }\n    }\n    if (!this._.commenting && !this._.quoting && (isDelimiter || isRowDelimiter)) {\n      if (isRowDelimiter) {\n        isRowDelimiterLength = this.options.rowDelimiter.filter(function(rd) {\n          return chars.substr(i, rd.length) === rd;\n        })[0].length;\n      }\n      // Empty lines\n      if (isRowDelimiter && this._.line.length === 0 && (this._.field == null)) {\n        if (wasCommenting || this.options.skip_empty_lines) {\n          i += isRowDelimiterLength;\n          this._.nextChar = chars.charAt(i);\n          continue;\n        }\n      }\n      if (rtrim) {\n        if (!this._.closingQuote) {\n          this._.field = (ref2 = this._.field) != null ? ref2.trimRight() : void 0;\n        }\n      }\n      this._.line.push(cast(this._.field || ''));\n      this._.closingQuote = 0;\n      this._.field = null;\n      if (isDelimiter) { // End of field\n        i += this.options.delimiter.length;\n        this._.nextChar = chars.charAt(i);\n        if (end && !this._.nextChar) {\n          isRowDelimiter = true;\n          this._.line.push('');\n        }\n      }\n      if (isRowDelimiter) { // End of record\n        if (!this._.lineHasError) {\n          err = this.__push(this._.line);\n          if (err) {\n            return err;\n          }\n        }\n        if (this._.lineHasError) {\n          this._.lineHasError = false;\n        }\n        // Some cleanup for the next record\n        this._.line = [];\n        i += isRowDelimiterLength;\n        this._.nextChar = chars.charAt(i);\n        continue;\n      }\n    } else if (!this._.commenting && !this._.quoting && (char === ' ' || char === '\\t')) {\n      if (this._.field == null) {\n        // Left trim unless we are quoting or field already filled\n        this._.field = '';\n      }\n      if (!(ltrim && !this._.field)) {\n        this._.field += char;\n      }\n      i++;\n    } else if (!this._.commenting) {\n      if (this._.field == null) {\n        this._.field = '';\n      }\n      this._.field += char;\n      i++;\n    } else {\n      i++;\n    }\n    if (!this._.commenting && ((ref3 = this._.field) != null ? ref3.length : void 0) > this.options.max_limit_on_data_read) {\n      return Error(`Field exceeds max_limit_on_data_read setting (${this.options.max_limit_on_data_read}) ${JSON.stringify(this.options.delimiter)}`);\n    }\n    if (!this._.commenting && ((ref4 = this._.line) != null ? ref4.length : void 0) > this.options.max_limit_on_data_read) {\n      return Error(`Row delimiter not found in the file ${JSON.stringify(this.options.rowDelimiter)}`);\n    }\n  }\n  // Flush remaining fields and lines\n  if (end) {\n    if (l === 0) {\n      this.lines++;\n    }\n    if (this._.field != null) {\n      if (rtrim) {\n        if (!this._.closingQuote) {\n          this._.field = (ref5 = this._.field) != null ? ref5.trimRight() : void 0;\n        }\n      }\n      this._.line.push(cast(this._.field || ''));\n      this._.field = null;\n    }\n    if (((ref6 = this._.field) != null ? ref6.length : void 0) > this.options.max_limit_on_data_read) {\n      return Error(`Delimiter not found in the file ${JSON.stringify(this.options.delimiter)}`);\n    }\n    if (this._.line.length > this.options.max_limit_on_data_read) {\n      return Error(`Row delimiter not found in the file ${JSON.stringify(this.options.rowDelimiter)}`);\n    }\n  }\n  // Store un-parsed chars for next call\n  this._.buf = chars.substr(i);\n  return null;\n};\n\nParser.prototype.error = function(msg) {\n  var err;\n  err = Error(msg);\n  if (!this.options.skip_lines_with_error) {\n    return err;\n  } else {\n    if (!this._.lineHasError) {\n      this._.lineHasError = true;\n      this.emit('skip', err);\n    }\n  }\n  return null;\n};\n\n// ## Utils\nisObjLiteral = function(_obj) {\n  var _test;\n  _test = _obj;\n  if (typeof _obj !== 'object' || _obj === null || Array.isArray(_obj)) {\n    return false;\n  } else {\n    return (function() {\n      while (!false) {\n        if (Object.getPrototypeOf(_test = Object.getPrototypeOf(_test)) === null) {\n          break;\n        }\n      }\n      return Object.getPrototypeOf(_obj === _test);\n    })();\n  }\n};\n\n// [readme]: https://github.com/wdavidw/node-csv-parse\n// [site]: http://csv.adaltas.com/parse/\n// [samples]: https://github.com/wdavidw/node-csv-parse/tree/master/samples\n// [tests]: https://github.com/wdavidw/node-csv-parse/tree/master/test\n// [stream]: (http://nodejs.org/api/stream.html\n// [transform]: (http://nodejs.org/api/stream.html#stream_class_stream_transform_1)\n","import { FlightLogHeader } from './types';\n\nexport const INT_FIELDS = new Set([\n  FlightLogHeader.AircraftBatteryCell1Voltage,\n  FlightLogHeader.AircraftBatteryCell2Voltage,\n  FlightLogHeader.AircraftBatteryCell3Voltage,\n  FlightLogHeader.AircraftBatteryCell4Voltage,\n  FlightLogHeader.AircraftBatteryCharge,\n  FlightLogHeader.AircraftBatteryCurrent,\n  FlightLogHeader.AircraftBatteryTemperature,\n  FlightLogHeader.AircraftBatteryVoltage,\n  FlightLogHeader.AircraftCameraLensFocusModeValue,\n  FlightLogHeader.AircraftCameraLensFocusStatusValue,\n  FlightLogHeader.AircraftCameraModeValue,\n  FlightLogHeader.AircraftFlightModeValue,\n  FlightLogHeader.AircraftGPSSignalValue,\n  FlightLogHeader.AircraftNoFlyValue,\n  FlightLogHeader.AircraftSatellites,\n  FlightLogHeader.GimbalModeValue,\n]);\n\nexport const FLOAT_FIELDS = new Set([\n  FlightLogHeader.AircraftBarometricAltitude,\n  FlightLogHeader.AircraftBatteryPowerPercent,\n  FlightLogHeader.AircraftCameraSDCardRemainingPercent,\n  FlightLogHeader.AircraftHeading,\n  FlightLogHeader.AircraftLatitude,\n  FlightLogHeader.AircraftLongitude,\n  FlightLogHeader.AircraftNoFlyLatitude,\n  FlightLogHeader.AircraftNoFlyLongitude,\n  FlightLogHeader.AircraftNoFlyRadius,\n  FlightLogHeader.AircraftPitch,\n  FlightLogHeader.AircraftRoll,\n  FlightLogHeader.AircraftSmartGoHomeFlightReturnTime,\n  FlightLogHeader.AircraftSmartGoHomeFlightTimeRemaining,\n  FlightLogHeader.AircraftSmartGoHomeLandingPower,\n  FlightLogHeader.AircraftSmartGoHomeLandingTime,\n  FlightLogHeader.AircraftSmartGoHomeReturnPower,\n  FlightLogHeader.AircraftSpeed,\n  FlightLogHeader.AircraftUltrasonicAltitude,\n  FlightLogHeader.DeviceToAircraftDistance,\n  FlightLogHeader.ElapsedTime,\n  FlightLogHeader.GimbalPitch,\n  FlightLogHeader.GimbalPitchAtStop,\n  FlightLogHeader.GimbalRoll,\n  FlightLogHeader.GimbalRollAtStop,\n  FlightLogHeader.GimbalYaw,\n  FlightLogHeader.GimbalYawAtStop,\n  FlightLogHeader.HomeLatitude,\n  FlightLogHeader.HomeLongitude,\n  FlightLogHeader.RCBatteryPercentRemaining,\n  FlightLogHeader.RCLeftHorizontal,\n  FlightLogHeader.RCRightHorizontal,\n  FlightLogHeader.RCLeftVertical,\n  FlightLogHeader.RCRightVertical,\n]);\n\nexport const BOOL_FIELDS = new Set([\n  FlightLogHeader.AircraftCameraBurstCapture,\n  FlightLogHeader.AircraftCameraIntervalCapture,\n  FlightLogHeader.AircraftCameraLensAFAssistant,\n  FlightLogHeader.AircraftCameraLensAFEnabled,\n  FlightLogHeader.AircraftCameraLensAssistantWorking,\n  FlightLogHeader.AircraftCameraOverheated,\n  FlightLogHeader.AircraftCameraRawCapture,\n  FlightLogHeader.AircraftCameraBurstCapture,\n  FlightLogHeader.AircraftCameraRecording,\n  FlightLogHeader.AircraftCameraSDCardExists,\n  FlightLogHeader.AircraftCameraSensorError,\n  FlightLogHeader.AircraftCameraSingleCapture,\n  FlightLogHeader.AircraftCameraStoringPhoto,\n  FlightLogHeader.AircraftFlying,\n  FlightLogHeader.AircraftIMUPreheating,\n  FlightLogHeader.AircraftMotorsOn,\n  FlightLogHeader.AircraftSmartGoHomeRequesting,\n  FlightLogHeader.AircraftUltrasonicOn,\n  FlightLogHeader.AircraftVisionOn,\n]);\n\n","import parse from 'csv-parse';\n\nimport { FlightLogRow, FlightLogHeader, FlightLogMetaData, FlightLog } from './types';\nimport { INT_FIELDS, BOOL_FIELDS, FLOAT_FIELDS } from './field-types';\n\nconst META_REGEX = {\n  appVersion: /^#DroneDeploy\\s+(.+)$/,\n  sessionId: /^Session ID\\s+(.+)$/,\n  sessionStart: /^Session Start\\s+(.+)$/,\n  sessionEnd: /^Date\\/Time \\(UTC\\)\\s+(.+)$/,\n  deviceModel: /^Device Model\\s+(.+)$/,\n  deviceOS: /^Device Operating System\\s+(.+)$/,\n  aircraftModel: /^Aircraft Model\\s+(.+)$/,\n  aircraftName: /^Aircraft Name\\s+(.+)$/,\n  aircraftFirmware: /^Aircraft Firmware\\s+(.+)$/,\n  batteryChargeVolume: /^Full Charge Volume \\(mAh\\)\\s+(.+)$/,\n  batteryRemainingLife: /^Remaining Life \\(%\\)\\s+(.+)$/,\n  batteryDischarges: /^Discharges\\s+(.+)$/,\n  batteryCells: /^Battery Cells Number\\s+(.+)$/,\n  batteryFirmware: /^Battery Firmware\\s+(.+)$/,\n  fcSerialNumber: /^Flight Controller Serial Number\\s+(.+)$/,\n  fcFirmware: /^Flight Controller Firmware\\s+(.+)$/,\n  gimbalFirmware: /^Gimbal Firmware\\s+(.+)$/,\n  rcSerialNumber: /^Remote Control Serial Number\\s+(.+)$/,\n  rcFirmware: /^Remote Control Firmware\\s+(.+)$/,\n  cameraSerialNumber: /^Camera Serial Number\\s+(.+)$/,\n  elapsedTime: /^Elapsed Time \\(sec\\)\\s+(.+)$/,\n};\n\nconst LOG_HEADER_LINES = 27;\nconst LOG_FOOTER_LINES = 3;\n\nexport function parseLog(log: String): Promise<FlightLog> {\n  const lines = log.split('\\n');\n\n  if (lines[lines.length - 1] === '') {\n    lines.pop();\n  }\n\n  const header = lines.slice(0, LOG_HEADER_LINES);\n  const footer = lines.slice(-LOG_FOOTER_LINES);\n  const body = lines.slice(LOG_HEADER_LINES, -LOG_FOOTER_LINES);\n  const metaData = parseMetaData(header, footer);\n\n  return parseBody(body).then((rows) => ({\n    metaData,\n    rows,\n  }));\n}\n\nfunction parseBody(lines: string[]): Promise<FlightLogRow[]> {\n  const text = lines.join('\\n');\n  const options = {\n    delimiter: '\\t',\n    from: 1,\n    relax_column_count: true,\n  };\n\n  return new Promise((resolve, reject) => {\n    parse(text, options, (err: any, result: string[]) => {\n      if (err) {\n        return reject(err);\n      }\n\n      const [headers, ...rows] = result;\n\n      const logs = rows\n        .map((row) => {\n          const log = {} as FlightLogRow;\n\n          for (let i = 0; i < headers.length; i++) {\n            const header = headers[i].trim() as FlightLogHeader;\n            let value: any = row[i];\n\n            if (INT_FIELDS.has(header)) {\n              value = parseInt(value, 10);\n            }\n\n            if (FLOAT_FIELDS.has(header)) {\n              value = parseFloat(value);\n            }\n\n            if (BOOL_FIELDS.has(header)) {\n              value = value !== '0';\n            }\n\n            log[header] = value;\n          }\n\n          return log;\n        });\n\n      resolve(logs);\n    });\n  });\n};\n\nfunction findMatch(search: string[], regex: RegExp) {\n  let match;\n\n  for (let str of search) {\n    match = str.match(regex);\n\n    if (match) {\n      break;\n    }\n  }\n\n  if (!match) {\n    return 'N/A';\n  }\n\n  return match[1];\n};\n\nfunction parseMetaData(headers: string[], footers: string[]): FlightLogMetaData {\n  const meta = [...headers, ...footers];\n\n  return {\n    appVersion: findMatch(meta, META_REGEX.appVersion),\n    session: {\n      id: findMatch(meta, META_REGEX.sessionId),\n      start: new Date(findMatch(meta, META_REGEX.sessionStart)),\n      end: new Date(findMatch(meta, META_REGEX.sessionEnd)),\n      elapsed: parseFloat(findMatch(meta, META_REGEX.elapsedTime)),\n    },\n    device: {\n      model: findMatch(meta, META_REGEX.deviceModel),\n      os: findMatch(meta, META_REGEX.deviceOS).replace(/\\t/g, ' '),\n    },\n    aircraft: {\n      model: findMatch(meta, META_REGEX.aircraftModel),\n      name: findMatch(meta, META_REGEX.aircraftName),\n      firmware: findMatch(meta, META_REGEX.aircraftFirmware),\n    },\n    battery: {\n      chargeVolume: parseInt(findMatch(meta, META_REGEX.batteryChargeVolume), 10),\n      remainingLifePercent: parseInt(findMatch(meta, META_REGEX.batteryRemainingLife), 10),\n      discharges: parseInt(findMatch(meta, META_REGEX.batteryDischarges), 10),\n      cells: parseInt(findMatch(meta, META_REGEX.batteryCells), 10),\n      firmware: findMatch(meta, META_REGEX.batteryFirmware),\n    },\n    flightController: {\n      serialNumber: findMatch(meta, META_REGEX.fcSerialNumber),\n      firmware: findMatch(meta, META_REGEX.fcFirmware),\n    },\n    gimbal: {\n      firmware: findMatch(meta, META_REGEX.gimbalFirmware),\n    },\n    remoteController: {\n      serialNumber: findMatch(meta, META_REGEX.rcSerialNumber),\n      firmware: findMatch(meta, META_REGEX.rcFirmware),\n    },\n    camera: {\n      serialNumber: findMatch(meta, META_REGEX.cameraSerialNumber),\n    },\n  };\n};\n"],"names":["FlightLogHeader","Buffer","require$$0","StringDecoder","stream","util","require$$1","require$$2","parse"],"mappings":"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"}